<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.30.1 (20180420.1509)
 -->
<!-- Title: Dataflow Pages: 1 -->
<svg width="793pt" height="668pt"
 viewBox="0.00 0.00 793.00 668.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 664)">
<title>Dataflow</title>
<polygon fill="white" stroke="white" points="-4,5 -4,-664 790,-664 790,5 -4,5"/>
<g id="clust1" class="cluster"><title>cluster_legends</title>
<polygon fill="lightgrey" stroke="lightgrey" points="8,-405 8,-586 190,-586 190,-405 8,-405"/>
<text text-anchor="middle" x="99" y="-574" font-family="Times,serif" font-size="10.00">Legend</text>
</g>
<g id="clust2" class="cluster"><title>cluster_tikv</title>
<polygon fill="none" stroke="lightgrey" points="695,-290 695,-480 777,-480 777,-290 695,-290"/>
<text text-anchor="middle" x="736" y="-464.8" font-family="Times,serif" font-size="14.00">TiKV</text>
</g>
<g id="clust3" class="cluster"><title>cluster_ticdc</title>
<polygon fill="none" stroke="lightgrey" points="198,-64 198,-652 687,-652 687,-64 198,-64"/>
<text text-anchor="middle" x="442.5" y="-636.8" font-family="Times,serif" font-size="14.00">TiCDC</text>
</g>
<g id="clust4" class="cluster"><title>cluster_kvclient</title>
<polygon fill="lightgrey" stroke="lightgrey" points="597,-515 597,-590 679,-590 679,-515 597,-515"/>
<text text-anchor="middle" x="638" y="-574.8" font-family="Times,serif" font-size="14.00">KV client</text>
</g>
<g id="clust5" class="cluster"><title>cluster_processor</title>
<polygon fill="lightgrey" stroke="lightgrey" points="206,-181 206,-365 440,-365 440,-181 206,-181"/>
<text text-anchor="middle" x="323" y="-349.8" font-family="Times,serif" font-size="14.00">Processor</text>
</g>
<g id="clust6" class="cluster"><title>cluster_puller</title>
<polygon fill="lightgrey" stroke="lightgrey" points="387,-404 387,-591 565,-591 565,-404 387,-404"/>
<text text-anchor="middle" x="476" y="-575.8" font-family="Times,serif" font-size="14.00">Puller</text>
</g>
<g id="clust7" class="cluster"><title>cluster_sorter</title>
<polygon fill="lightgrey" stroke="lightgrey" points="206,-397 206,-621 303,-621 303,-397 206,-397"/>
<text text-anchor="middle" x="254.5" y="-605.8" font-family="Times,serif" font-size="14.00">Sorter</text>
</g>
<g id="clust8" class="cluster"><title>cluster_entry_sorter</title>
<polygon fill="lightgrey" stroke="lightgrey" points="214,-515 214,-590 295,-590 295,-515 214,-515"/>
<text text-anchor="middle" x="254.5" y="-574.8" font-family="Times,serif" font-size="14.00">Entry sorter</text>
</g>
<g id="clust9" class="cluster"><title>cluster_rectifier</title>
<polygon fill="lightgrey" stroke="lightgrey" points="214,-405 214,-480 284,-480 284,-405 214,-405"/>
<text text-anchor="middle" x="249" y="-464.8" font-family="Times,serif" font-size="14.00">Rectifier</text>
</g>
<g id="clust10" class="cluster"><title>cluster_mounter</title>
<polygon fill="lightgrey" stroke="lightgrey" points="448,-181 448,-256 518,-256 518,-181 448,-181"/>
<text text-anchor="middle" x="483" y="-240.8" font-family="Times,serif" font-size="14.00">Mounter</text>
</g>
<g id="clust11" class="cluster"><title>cluster_sink</title>
<polygon fill="lightgrey" stroke="lightgrey" points="215,-72 215,-147 313,-147 313,-72 215,-72"/>
<text text-anchor="middle" x="264" y="-131.8" font-family="Times,serif" font-size="14.00">Sink</text>
</g>
<!-- flow -->
<g id="node1" class="node"><title>flow</title>
<polygon fill="white" stroke="white" points="182,-559 108,-559 108,-523 182,-523 182,-559"/>
<text text-anchor="middle" x="145" y="-538.5" font-family="Times,serif" font-size="10.00">Go routine #1</text>
</g>
<!-- flow_ -->
<g id="node2" class="node"><title>flow_</title>
<polygon fill="white" stroke="white" points="182,-449 108,-449 108,-413 182,-413 182,-449"/>
<text text-anchor="middle" x="145" y="-428.5" font-family="Times,serif" font-size="10.00">Go routine #2</text>
</g>
<!-- flow&#45;&gt;flow_ -->
<g id="edge1" class="edge"><title>flow&#45;&gt;flow_</title>
<path fill="none" stroke="black" d="M145,-522.648C145,-505.564 145,-479.215 145,-459.319"/>
<polygon fill="black" stroke="black" points="148.5,-459.309 145,-449.309 141.5,-459.309 148.5,-459.309"/>
<text text-anchor="middle" x="126.5" y="-463.309" font-family="Times,serif" font-size="10.00">Flow</text>
<text text-anchor="middle" x="126.5" y="-452.309" font-family="Times,serif" font-size="10.00">direction</text>
<text text-anchor="middle" x="127.5" y="-514.648" font-family="Times,serif" font-size="10.00">Channel</text>
<text text-anchor="middle" x="127.5" y="-503.648" font-family="Times,serif" font-size="10.00">/Buffer</text>
</g>
<!-- wait -->
<g id="node3" class="node"><title>wait</title>
<polygon fill="white" stroke="white" points="90,-559 16,-559 16,-523 90,-523 90,-559"/>
<text text-anchor="middle" x="53" y="-538.5" font-family="Times,serif" font-size="10.00">Go routine #1</text>
</g>
<!-- wait_ -->
<g id="node4" class="node"><title>wait_</title>
<polygon fill="white" stroke="white" points="90,-449 16,-449 16,-413 90,-413 90,-449"/>
<text text-anchor="middle" x="53" y="-428.5" font-family="Times,serif" font-size="10.00">Go routine #2</text>
</g>
<!-- wait&#45;&gt;wait_ -->
<g id="edge2" class="edge"><title>wait&#45;&gt;wait_</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53,-522.648C53,-505.564 53,-479.215 53,-459.319"/>
<polygon fill="black" stroke="black" points="56.5001,-459.309 53,-449.309 49.5001,-459.309 56.5001,-459.309"/>
<text text-anchor="middle" x="29" y="-514.648" font-family="Times,serif" font-size="10.00">#1 wiats #2</text>
</g>
<!-- Raftstore -->
<g id="node5" class="node"><title>Raftstore</title>
<polygon fill="lightgrey" stroke="lightgrey" points="769,-449 703,-449 703,-413 769,-413 769,-449"/>
<text text-anchor="middle" x="736" y="-427.3" font-family="Times,serif" font-size="14.00">Raftstore</text>
</g>
<!-- CDC -->
<g id="node6" class="node"><title>CDC</title>
<polygon fill="lightgrey" stroke="lightgrey" points="757,-334 703,-334 703,-298 757,-298 757,-334"/>
<text text-anchor="middle" x="730" y="-312.3" font-family="Times,serif" font-size="14.00">CDC</text>
</g>
<!-- Raftstore&#45;&gt;CDC -->
<g id="edge3" class="edge"><title>Raftstore&#45;&gt;CDC</title>
<path fill="none" stroke="black" d="M735.089,-412.838C734.124,-394.669 732.587,-365.725 731.455,-344.394"/>
<polygon fill="black" stroke="black" points="734.945,-344.124 730.92,-334.324 727.955,-344.495 734.945,-344.124"/>
<text text-anchor="middle" x="754.5" y="-377.3" font-family="Times,serif" font-size="14.00">channel</text>
</g>
<!-- kv_client -->
<g id="node7" class="node"><title>kv_client</title>
<polygon fill="white" stroke="white" points="671,-559 605,-559 605,-523 671,-523 671,-559"/>
<text text-anchor="middle" x="638" y="-537.3" font-family="Times,serif" font-size="14.00">kv_client</text>
</g>
<!-- CDC&#45;&gt;kv_client -->
<g id="edge4" class="edge"><title>CDC&#45;&gt;kv_client</title>
<path fill="none" stroke="black" d="M709.957,-334.259C694.014,-349.188 672.531,-372.223 661,-397 643.518,-434.562 639.012,-483.01 638.02,-512.771"/>
<polygon fill="black" stroke="black" points="634.52,-512.76 637.797,-522.835 641.518,-512.915 634.52,-512.76"/>
<text text-anchor="middle" x="677.5" y="-427.3" font-family="Times,serif" font-size="14.00">gRPC</text>
</g>
<!-- puller_run_step1 -->
<g id="node8" class="node"><title>puller_run_step1</title>
<polygon fill="white" stroke="white" points="543,-560 395,-560 395,-522 543,-522 543,-560"/>
<text text-anchor="middle" x="469" y="-544.8" font-family="Times,serif" font-size="14.00">Run #1</text>
<text text-anchor="middle" x="469" y="-529.8" font-family="Times,serif" font-size="14.00">(Add to memory buffer)</text>
</g>
<!-- kv_client&#45;&gt;puller_run_step1 -->
<g id="edge5" class="edge"><title>kv_client&#45;&gt;puller_run_step1</title>
<path fill="none" stroke="black" d="M604.581,-541C589.711,-541 571.463,-541 553.231,-541"/>
<polygon fill="black" stroke="black" points="553.126,-537.5 543.126,-541 553.126,-544.5 553.126,-537.5"/>
<text text-anchor="middle" x="574" y="-547.8" font-family="Times,serif" font-size="14.00">eventCh</text>
</g>
<!-- puller_run_step2 -->
<g id="node12" class="node"><title>puller_run_step2</title>
<polygon fill="white" stroke="white" points="556.25,-450 395.75,-450 395.75,-412 556.25,-412 556.25,-450"/>
<text text-anchor="middle" x="476" y="-434.8" font-family="Times,serif" font-size="14.00">Run #2</text>
<text text-anchor="middle" x="476" y="-419.8" font-family="Times,serif" font-size="14.00">(Output to output channel)</text>
</g>
<!-- puller_run_step1&#45;&gt;puller_run_step2 -->
<g id="edge7" class="edge"><title>puller_run_step1&#45;&gt;puller_run_step2</title>
<path fill="none" stroke="black" d="M470.187,-521.679C471.28,-504.821 472.917,-479.565 474.176,-460.147"/>
<polygon fill="black" stroke="black" points="477.676,-460.256 474.83,-450.05 470.691,-459.803 477.676,-460.256"/>
<text text-anchor="middle" x="494.5" y="-492.3" font-family="Times,serif" font-size="14.00">P.buffer</text>
</g>
<!-- processor_sorter_consume -->
<g id="node9" class="node"><title>processor_sorter_consume</title>
<polygon fill="white" stroke="white" points="313.25,-334 214.75,-334 214.75,-298 313.25,-298 313.25,-334"/>
<text text-anchor="middle" x="264" y="-312.3" font-family="Times,serif" font-size="14.00">sorterConsume</text>
</g>
<!-- processor_sync_resolved -->
<g id="node11" class="node"><title>processor_sync_resolved</title>
<polygon fill="white" stroke="white" points="309,-225 219,-225 219,-189 309,-189 309,-225"/>
<text text-anchor="middle" x="264" y="-203.3" font-family="Times,serif" font-size="14.00">syncResolved</text>
</g>
<!-- processor_sorter_consume&#45;&gt;processor_sync_resolved -->
<g id="edge6" class="edge"><title>processor_sorter_consume&#45;&gt;processor_sync_resolved</title>
<path fill="none" stroke="black" d="M264,-297.809C264,-280.961 264,-255.018 264,-235.339"/>
<polygon fill="black" stroke="black" points="267.5,-235.149 264,-225.149 260.5,-235.149 267.5,-235.149"/>
<text text-anchor="middle" x="286.5" y="-268.3" font-family="Times,serif" font-size="14.00">P.output</text>
</g>
<!-- mounter_run -->
<g id="node15" class="node"><title>mounter_run</title>
<polygon fill="white" stroke="white" points="510,-225 456,-225 456,-189 510,-189 510,-225"/>
<text text-anchor="middle" x="483" y="-203.3" font-family="Times,serif" font-size="14.00">Run</text>
</g>
<!-- processor_sorter_consume&#45;&gt;mounter_run -->
<g id="edge12" class="edge"><title>processor_sorter_consume&#45;&gt;mounter_run</title>
<path fill="none" stroke="black" d="M302.444,-297.883C309.235,-295.097 316.282,-292.357 323,-290 375.712,-271.51 397.312,-286.669 444,-256 452.792,-250.225 460.566,-241.84 466.814,-233.689"/>
<polygon fill="black" stroke="black" points="469.775,-235.566 472.752,-225.398 464.084,-231.491 469.775,-235.566"/>
<text text-anchor="middle" x="452" y="-268.3" font-family="Times,serif" font-size="14.00">M.Input</text>
</g>
<!-- processor_puller_consume -->
<g id="node10" class="node"><title>processor_puller_consume</title>
<polygon fill="white" stroke="white" points="432,-334 332,-334 332,-298 432,-298 432,-334"/>
<text text-anchor="middle" x="382" y="-312.3" font-family="Times,serif" font-size="14.00">pullerConsume</text>
</g>
<!-- sorter_run -->
<g id="node13" class="node"><title>sorter_run</title>
<polygon fill="white" stroke="white" points="281,-559 227,-559 227,-523 281,-523 281,-559"/>
<text text-anchor="middle" x="254" y="-537.3" font-family="Times,serif" font-size="14.00">Run</text>
</g>
<!-- processor_puller_consume&#45;&gt;sorter_run -->
<g id="edge9" class="edge"><title>processor_puller_consume&#45;&gt;sorter_run</title>
<path fill="none" stroke="black" d="M363.368,-334.09C348.344,-349.087 328.109,-372.309 318,-397 299.887,-441.242 331.509,-462.954 307,-504 302.75,-511.118 296.482,-517.143 289.732,-522.107"/>
<polygon fill="black" stroke="black" points="287.466,-519.409 281.039,-527.832 291.316,-525.255 287.466,-519.409"/>
<text text-anchor="middle" x="350.5" y="-427.3" font-family="Times,serif" font-size="14.00">E.AddEntry</text>
</g>
<!-- sink_run -->
<g id="node16" class="node"><title>sink_run</title>
<polygon fill="white" stroke="white" points="305,-116 223,-116 223,-80 305,-80 305,-116"/>
<text text-anchor="middle" x="264" y="-94.3" font-family="Times,serif" font-size="14.00">FlushEvents</text>
</g>
<!-- processor_sync_resolved&#45;&gt;sink_run -->
<g id="edge14" class="edge"><title>processor_sync_resolved&#45;&gt;sink_run</title>
<path fill="none" stroke="black" d="M264,-188.809C264,-171.961 264,-146.018 264,-126.339"/>
<polygon fill="black" stroke="black" points="267.5,-126.149 264,-116.149 260.5,-126.149 267.5,-126.149"/>
<text text-anchor="middle" x="301" y="-159.3" font-family="Times,serif" font-size="14.00">S.EmitEvents</text>
</g>
<!-- puller_run_step2&#45;&gt;processor_puller_consume -->
<g id="edge8" class="edge"><title>puller_run_step2&#45;&gt;processor_puller_consume</title>
<path fill="none" stroke="black" d="M460.897,-411.845C445.137,-392.898 420.315,-363.06 402.727,-341.916"/>
<polygon fill="black" stroke="black" points="405.229,-339.451 396.143,-334.001 399.847,-343.927 405.229,-339.451"/>
<text text-anchor="middle" x="465" y="-377.3" font-family="Times,serif" font-size="14.00">P.Output</text>
</g>
<!-- rectifier_run -->
<g id="node14" class="node"><title>rectifier_run</title>
<polygon fill="white" stroke="white" points="276,-449 222,-449 222,-413 276,-413 276,-449"/>
<text text-anchor="middle" x="249" y="-427.3" font-family="Times,serif" font-size="14.00">Run</text>
</g>
<!-- sorter_run&#45;&gt;rectifier_run -->
<g id="edge10" class="edge"><title>sorter_run&#45;&gt;rectifier_run</title>
<path fill="none" stroke="black" d="M253.197,-522.648C252.406,-505.564 251.186,-479.215 250.265,-459.319"/>
<polygon fill="black" stroke="black" points="253.76,-459.136 249.801,-449.309 246.768,-459.46 253.76,-459.136"/>
<text text-anchor="middle" x="278" y="-492.3" font-family="Times,serif" font-size="14.00">E.Output</text>
</g>
<!-- rectifier_run&#45;&gt;processor_sorter_consume -->
<g id="edge11" class="edge"><title>rectifier_run&#45;&gt;processor_sorter_consume</title>
<path fill="none" stroke="black" d="M251.278,-412.838C253.69,-394.669 257.532,-365.725 260.364,-344.394"/>
<polygon fill="black" stroke="black" points="263.854,-344.697 261.7,-334.324 256.915,-343.776 263.854,-344.697"/>
<text text-anchor="middle" x="280.5" y="-377.3" font-family="Times,serif" font-size="14.00">R.Ouput</text>
</g>
<!-- mounter_run&#45;&gt;processor_sync_resolved -->
<g id="edge13" class="edge"><title>mounter_run&#45;&gt;processor_sync_resolved</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M445.824,-207C408.053,-207 349.513,-207 309.111,-207"/>
<polygon fill="black" stroke="black" points="445.894,-210.5 455.894,-207 445.894,-203.5 445.894,-210.5"/>
<text text-anchor="middle" x="382.5" y="-213.8" font-family="Times,serif" font-size="14.00">wait unmarshal</text>
</g>
<!-- data_out -->
<g id="node18" class="node"><title>data_out</title>
<ellipse fill="none" stroke="black" cx="264" cy="-18" rx="40.4202" ry="18"/>
<text text-anchor="middle" x="264" y="-14.3" font-family="Times,serif" font-size="14.00">Data out</text>
</g>
<!-- sink_run&#45;&gt;data_out -->
<g id="edge16" class="edge"><title>sink_run&#45;&gt;data_out</title>
<path fill="none" stroke="black" d="M264,-79.6893C264,-69.8938 264,-57.4218 264,-46.335"/>
<polygon fill="black" stroke="black" points="267.5,-46.2623 264,-36.2623 260.5,-46.2624 267.5,-46.2623"/>
</g>
<!-- data_in -->
<g id="node17" class="node"><title>data_in</title>
<ellipse fill="none" stroke="black" cx="736" cy="-541" rx="36.096" ry="18"/>
<text text-anchor="middle" x="736" y="-537.3" font-family="Times,serif" font-size="14.00">Data in</text>
</g>
<!-- data_in&#45;&gt;Raftstore -->
<g id="edge15" class="edge"><title>data_in&#45;&gt;Raftstore</title>
<path fill="none" stroke="black" d="M736,-522.648C736,-505.564 736,-479.215 736,-459.319"/>
<polygon fill="black" stroke="black" points="739.5,-459.309 736,-449.309 732.5,-459.309 739.5,-459.309"/>
</g>
</g>
</svg>
