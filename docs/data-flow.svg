<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: Dataflow Pages: 1 -->
<svg width="655pt" height="735pt"
 viewBox="0.00 0.00 655.00 735.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 731)">
<title>Dataflow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-731 651,-731 651,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_legends</title>
<polygon fill="lightgrey" stroke="lightgrey" points="8,-503 8,-683 190,-683 190,-503 8,-503"/>
<text text-anchor="middle" x="99" y="-671" font-family="Times,serif" font-size="10.00">Legend</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_tikv</title>
<polygon fill="none" stroke="lightgrey" points="557,-394 557,-578 639,-578 639,-394 557,-394"/>
<text text-anchor="middle" x="598" y="-562.8" font-family="Times,serif" font-size="14.00">TiKV</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ticdc</title>
<polygon fill="none" stroke="lightgrey" points="198,-63 198,-719 549,-719 549,-63 198,-63"/>
<text text-anchor="middle" x="373.5" y="-703.8" font-family="Times,serif" font-size="14.00">TiCDC</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_kvclient</title>
<polygon fill="lightgrey" stroke="lightgrey" points="457,-612 457,-687 541,-687 541,-612 457,-612"/>
<text text-anchor="middle" x="499" y="-671.8" font-family="Times,serif" font-size="14.00">KV client</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_processor</title>
<polygon fill="lightgrey" stroke="lightgrey" points="267,-394 267,-469 501,-469 501,-394 267,-394"/>
<text text-anchor="middle" x="384" y="-453.8" font-family="Times,serif" font-size="14.00">Processor</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_puller</title>
<polygon fill="lightgrey" stroke="lightgrey" points="241,-502 241,-688 419,-688 419,-502 241,-502"/>
<text text-anchor="middle" x="330" y="-672.8" font-family="Times,serif" font-size="14.00">Puller</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_sorter</title>
<polygon fill="lightgrey" stroke="lightgrey" points="444,-247 444,-361 541,-361 541,-247 444,-247"/>
<text text-anchor="middle" x="492.5" y="-345.8" font-family="Times,serif" font-size="14.00">Sorter</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_entry_sorter</title>
<polygon fill="lightgrey" stroke="lightgrey" points="452,-255 452,-330 533,-330 533,-255 452,-255"/>
<text text-anchor="middle" x="492.5" y="-314.8" font-family="Times,serif" font-size="14.00">Entry sorter</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_mounter</title>
<polygon fill="lightgrey" stroke="lightgrey" points="342,-255 342,-330 436,-330 436,-255 342,-255"/>
<text text-anchor="middle" x="389" y="-314.8" font-family="Times,serif" font-size="14.00">Mounter</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_sink</title>
<polygon fill="lightgrey" stroke="lightgrey" points="206,-71 206,-331 334,-331 334,-71 206,-71"/>
<text text-anchor="middle" x="270" y="-315.8" font-family="Times,serif" font-size="14.00">Sink Manager</text>
</g>
<!-- flow -->
<g id="node1" class="node">
<title>flow</title>
<polygon fill="white" stroke="white" points="182,-656 108,-656 108,-620 182,-620 182,-656"/>
<text text-anchor="middle" x="145" y="-635.5" font-family="Times,serif" font-size="10.00">Go routine #1</text>
</g>
<!-- flow_ -->
<g id="node2" class="node">
<title>flow_</title>
<polygon fill="white" stroke="white" points="182,-547 108,-547 108,-511 182,-511 182,-547"/>
<text text-anchor="middle" x="145" y="-526.5" font-family="Times,serif" font-size="10.00">Go routine #2</text>
</g>
<!-- flow&#45;&gt;flow_ -->
<g id="edge1" class="edge">
<title>flow&#45;&gt;flow_</title>
<path fill="none" stroke="black" d="M145,-619.81C145,-602.96 145,-577.02 145,-557.34"/>
<polygon fill="black" stroke="black" points="148.5,-557.15 145,-547.15 141.5,-557.15 148.5,-557.15"/>
<text text-anchor="middle" x="126.5" y="-561.15" font-family="Times,serif" font-size="10.00">Flow</text>
<text text-anchor="middle" x="126.5" y="-550.15" font-family="Times,serif" font-size="10.00">direction</text>
<text text-anchor="middle" x="127.5" y="-611.81" font-family="Times,serif" font-size="10.00">Channel</text>
<text text-anchor="middle" x="127.5" y="-600.81" font-family="Times,serif" font-size="10.00">/Buffer</text>
</g>
<!-- wait -->
<g id="node3" class="node">
<title>wait</title>
<polygon fill="white" stroke="white" points="90,-656 16,-656 16,-620 90,-620 90,-656"/>
<text text-anchor="middle" x="53" y="-635.5" font-family="Times,serif" font-size="10.00">Go routine #1</text>
</g>
<!-- wait_ -->
<g id="node4" class="node">
<title>wait_</title>
<polygon fill="white" stroke="white" points="90,-547 16,-547 16,-511 90,-511 90,-547"/>
<text text-anchor="middle" x="53" y="-526.5" font-family="Times,serif" font-size="10.00">Go routine #2</text>
</g>
<!-- wait&#45;&gt;wait_ -->
<g id="edge2" class="edge">
<title>wait&#45;&gt;wait_</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53,-619.81C53,-602.96 53,-577.02 53,-557.34"/>
<polygon fill="black" stroke="black" points="56.5,-557.15 53,-547.15 49.5,-557.15 56.5,-557.15"/>
<text text-anchor="middle" x="29" y="-611.81" font-family="Times,serif" font-size="10.00">#1 wiats #2</text>
</g>
<!-- Raftstore -->
<g id="node5" class="node">
<title>Raftstore</title>
<polygon fill="lightgrey" stroke="lightgrey" points="631,-547 565,-547 565,-511 631,-511 631,-547"/>
<text text-anchor="middle" x="598" y="-525.3" font-family="Times,serif" font-size="14.00">Raftstore</text>
</g>
<!-- CDC -->
<g id="node6" class="node">
<title>CDC</title>
<polygon fill="lightgrey" stroke="lightgrey" points="619,-438 565,-438 565,-402 619,-402 619,-438"/>
<text text-anchor="middle" x="592" y="-416.3" font-family="Times,serif" font-size="14.00">CDC</text>
</g>
<!-- Raftstore&#45;&gt;CDC -->
<g id="edge3" class="edge">
<title>Raftstore&#45;&gt;CDC</title>
<path fill="none" stroke="black" d="M597.04,-510.81C596.09,-493.96 594.64,-468.02 593.53,-448.34"/>
<polygon fill="black" stroke="black" points="597.02,-447.94 592.96,-438.15 590.03,-448.33 597.02,-447.94"/>
<text text-anchor="middle" x="616.5" y="-480.8" font-family="Times,serif" font-size="14.00">channel</text>
</g>
<!-- kv_client -->
<g id="node7" class="node">
<title>kv_client</title>
<polygon fill="white" stroke="white" points="532.5,-656 465.5,-656 465.5,-620 532.5,-620 532.5,-656"/>
<text text-anchor="middle" x="499" y="-634.3" font-family="Times,serif" font-size="14.00">kv_client</text>
</g>
<!-- CDC&#45;&gt;kv_client -->
<g id="edge4" class="edge">
<title>CDC&#45;&gt;kv_client</title>
<path fill="none" stroke="black" d="M572.39,-438.27C556.48,-453.44 534.82,-476.94 523,-502 506.59,-536.78 501.34,-581.43 499.69,-609.64"/>
<polygon fill="black" stroke="black" points="496.18,-609.79 499.21,-619.94 503.17,-610.11 496.18,-609.79"/>
<text text-anchor="middle" x="539.5" y="-525.3" font-family="Times,serif" font-size="14.00">gRPC</text>
</g>
<!-- puller_run_step1 -->
<g id="node8" class="node">
<title>puller_run_step1</title>
<polygon fill="white" stroke="white" points="402,-657 252,-657 252,-619 402,-619 402,-657"/>
<text text-anchor="middle" x="327" y="-641.8" font-family="Times,serif" font-size="14.00">Run #1</text>
<text text-anchor="middle" x="327" y="-626.8" font-family="Times,serif" font-size="14.00">(Add to memory buffer)</text>
</g>
<!-- kv_client&#45;&gt;puller_run_step1 -->
<g id="edge5" class="edge">
<title>kv_client&#45;&gt;puller_run_step1</title>
<path fill="none" stroke="black" d="M465.32,-638C450.02,-638 431.15,-638 412.32,-638"/>
<polygon fill="black" stroke="black" points="412.19,-634.5 402.19,-638 412.19,-641.5 412.19,-634.5"/>
<text text-anchor="middle" x="433.75" y="-644.8" font-family="Times,serif" font-size="14.00">eventCh</text>
</g>
<!-- puller_run_step2 -->
<g id="node12" class="node">
<title>puller_run_step2</title>
<polygon fill="white" stroke="white" points="410.5,-548 249.5,-548 249.5,-510 410.5,-510 410.5,-548"/>
<text text-anchor="middle" x="330" y="-532.8" font-family="Times,serif" font-size="14.00">Run #2</text>
<text text-anchor="middle" x="330" y="-517.8" font-family="Times,serif" font-size="14.00">(Output to output channel)</text>
</g>
<!-- puller_run_step1&#45;&gt;puller_run_step2 -->
<g id="edge7" class="edge">
<title>puller_run_step1&#45;&gt;puller_run_step2</title>
<path fill="none" stroke="black" d="M327.51,-618.85C327.97,-602.32 328.66,-577.66 329.2,-558.5"/>
<polygon fill="black" stroke="black" points="332.71,-558.33 329.49,-548.24 325.71,-558.14 332.71,-558.33"/>
<text text-anchor="middle" x="350.5" y="-589.8" font-family="Times,serif" font-size="14.00">P.buffer</text>
</g>
<!-- processor_sorter_consume -->
<g id="node9" class="node">
<title>processor_sorter_consume</title>
<polygon fill="white" stroke="white" points="374.5,-438 275.5,-438 275.5,-402 374.5,-402 374.5,-438"/>
<text text-anchor="middle" x="325" y="-416.3" font-family="Times,serif" font-size="14.00">sorterConsume</text>
</g>
<!-- table_sink_run -->
<g id="node11" class="node">
<title>table_sink_run</title>
<polygon fill="white" stroke="white" points="312,-300 214,-300 214,-262 312,-262 312,-300"/>
<text text-anchor="middle" x="263" y="-284.8" font-family="Times,serif" font-size="14.00">Table Sink (N)</text>
<text text-anchor="middle" x="263" y="-269.8" font-family="Times,serif" font-size="14.00">FlushEvents</text>
</g>
<!-- processor_sorter_consume&#45;&gt;table_sink_run -->
<g id="edge6" class="edge">
<title>processor_sorter_consume&#45;&gt;table_sink_run</title>
<path fill="none" stroke="black" d="M276.15,-401.81C268.91,-397.14 262.42,-391.3 258,-384 244.52,-361.75 248.14,-331.49 253.68,-309.71"/>
<polygon fill="black" stroke="black" points="257.05,-310.65 256.4,-300.07 250.32,-308.75 257.05,-310.65"/>
<text text-anchor="middle" x="280.5" y="-372.8" font-family="Times,serif" font-size="14.00">P.output</text>
</g>
<!-- mounter_unmarshal -->
<g id="node14" class="node">
<title>mounter_unmarshal</title>
<polygon fill="white" stroke="white" points="427.5,-299 350.5,-299 350.5,-263 427.5,-263 427.5,-299"/>
<text text-anchor="middle" x="389" y="-277.3" font-family="Times,serif" font-size="14.00">Unmarshal</text>
</g>
<!-- processor_sorter_consume&#45;&gt;mounter_unmarshal -->
<g id="edge11" class="edge">
<title>processor_sorter_consume&#45;&gt;mounter_unmarshal</title>
<path fill="none" stroke="black" d="M321.55,-401.78C320.4,-391.64 320.57,-378.9 326,-369 329.08,-363.38 333.5,-365.57 338,-361 353.33,-345.45 366.56,-324.58 375.7,-308.2"/>
<polygon fill="black" stroke="black" points="378.92,-309.61 380.6,-299.15 372.76,-306.28 378.92,-309.61"/>
<text text-anchor="middle" x="355" y="-372.8" font-family="Times,serif" font-size="14.00">unmarshal</text>
</g>
<!-- processor_puller_consume -->
<g id="node10" class="node">
<title>processor_puller_consume</title>
<polygon fill="white" stroke="white" points="493,-438 393,-438 393,-402 493,-402 493,-438"/>
<text text-anchor="middle" x="443" y="-416.3" font-family="Times,serif" font-size="14.00">pullerConsume</text>
</g>
<!-- sorter_run -->
<g id="node13" class="node">
<title>sorter_run</title>
<polygon fill="white" stroke="white" points="514,-299 460,-299 460,-263 514,-263 514,-299"/>
<text text-anchor="middle" x="487" y="-277.3" font-family="Times,serif" font-size="14.00">Run</text>
</g>
<!-- processor_puller_consume&#45;&gt;sorter_run -->
<g id="edge9" class="edge">
<title>processor_puller_consume&#45;&gt;sorter_run</title>
<path fill="none" stroke="black" d="M448.48,-401.93C455.96,-378.65 469.43,-336.7 478.3,-309.1"/>
<polygon fill="black" stroke="black" points="481.72,-309.88 481.45,-299.29 475.06,-307.74 481.72,-309.88"/>
<text text-anchor="middle" x="492" y="-372.8" font-family="Times,serif" font-size="14.00">E.AddEntry</text>
</g>
<!-- buffer_sink_run -->
<g id="node15" class="node">
<title>buffer_sink_run</title>
<polygon fill="white" stroke="white" points="314,-206 214,-206 214,-168 314,-168 314,-206"/>
<text text-anchor="middle" x="264" y="-190.8" font-family="Times,serif" font-size="14.00">Buffer Sink (1)</text>
<text text-anchor="middle" x="264" y="-175.8" font-family="Times,serif" font-size="14.00">FlushEvents</text>
</g>
<!-- table_sink_run&#45;&gt;buffer_sink_run -->
<g id="edge12" class="edge">
<title>table_sink_run&#45;&gt;buffer_sink_run</title>
<path fill="none" stroke="black" d="M263.2,-261.82C263.34,-248.85 263.53,-231.13 263.69,-216.31"/>
<polygon fill="black" stroke="black" points="267.19,-216.18 263.8,-206.14 260.19,-216.1 267.19,-216.18"/>
<text text-anchor="middle" x="302" y="-227.8" font-family="Times,serif" font-size="14.00">S.EmitEvents</text>
</g>
<!-- puller_run_step2&#45;&gt;processor_puller_consume -->
<g id="edge8" class="edge">
<title>puller_run_step2&#45;&gt;processor_puller_consume</title>
<path fill="none" stroke="black" d="M349.17,-509.85C367.93,-492.08 396.63,-464.91 417.35,-445.29"/>
<polygon fill="black" stroke="black" points="420.01,-447.59 424.86,-438.18 415.19,-442.51 420.01,-447.59"/>
<text text-anchor="middle" x="408" y="-480.8" font-family="Times,serif" font-size="14.00">P.Output</text>
</g>
<!-- sorter_run&#45;&gt;processor_sorter_consume -->
<g id="edge10" class="edge">
<title>sorter_run&#45;&gt;processor_sorter_consume</title>
<path fill="none" stroke="black" d="M481.35,-299.31C474.5,-317.5 461.16,-345.59 440,-361 427.1,-370.39 419.55,-362.46 405,-369 394.54,-373.7 393.61,-377.74 384,-384 377.62,-388.16 370.75,-392.42 364.03,-396.48"/>
<polygon fill="black" stroke="black" points="361.81,-393.73 355.01,-401.86 365.4,-399.74 361.81,-393.73"/>
<text text-anchor="middle" x="428" y="-372.8" font-family="Times,serif" font-size="14.00">S.Ouput</text>
</g>
<!-- backend_sink_run -->
<g id="node16" class="node">
<title>backend_sink_run</title>
<polygon fill="white" stroke="white" points="326,-117 214,-117 214,-79 326,-79 326,-117"/>
<text text-anchor="middle" x="270" y="-101.8" font-family="Times,serif" font-size="14.00">Backend Sink (1)</text>
<text text-anchor="middle" x="270" y="-86.8" font-family="Times,serif" font-size="14.00">FlushEvents</text>
</g>
<!-- buffer_sink_run&#45;&gt;backend_sink_run -->
<g id="edge13" class="edge">
<title>buffer_sink_run&#45;&gt;backend_sink_run</title>
<path fill="none" stroke="black" d="M265.24,-167.97C266.06,-156.19 267.13,-140.56 268.06,-127.16"/>
<polygon fill="black" stroke="black" points="271.56,-127.22 268.76,-117 264.58,-126.74 271.56,-127.22"/>
<text text-anchor="middle" x="306" y="-138.8" font-family="Times,serif" font-size="14.00">S.EmitEvents</text>
</g>
<!-- data_out -->
<g id="node18" class="node">
<title>data_out</title>
<ellipse fill="none" stroke="black" cx="270" cy="-18" rx="40.89" ry="18"/>
<text text-anchor="middle" x="270" y="-14.3" font-family="Times,serif" font-size="14.00">Data out</text>
</g>
<!-- backend_sink_run&#45;&gt;data_out -->
<g id="edge15" class="edge">
<title>backend_sink_run&#45;&gt;data_out</title>
<path fill="none" stroke="black" d="M270,-78.91C270,-69.26 270,-57.18 270,-46.4"/>
<polygon fill="black" stroke="black" points="273.5,-46.19 270,-36.19 266.5,-46.19 273.5,-46.19"/>
</g>
<!-- data_in -->
<g id="node17" class="node">
<title>data_in</title>
<ellipse fill="none" stroke="black" cx="598" cy="-638" rx="36.29" ry="18"/>
<text text-anchor="middle" x="598" y="-634.3" font-family="Times,serif" font-size="14.00">Data in</text>
</g>
<!-- data_in&#45;&gt;Raftstore -->
<g id="edge14" class="edge">
<title>data_in&#45;&gt;Raftstore</title>
<path fill="none" stroke="black" d="M598,-619.81C598,-602.96 598,-577.02 598,-557.34"/>
<polygon fill="black" stroke="black" points="601.5,-557.15 598,-547.15 594.5,-557.15 601.5,-557.15"/>
</g>
</g>
</svg>
