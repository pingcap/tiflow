<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Dataflow Pages: 1 -->
<svg width="625pt" height="1448pt"
 viewBox="0.00 0.00 625.00 1448.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1444.4)">
<title>Dataflow</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1444.4 621,-1444.4 621,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_legends</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="8,-1132.6 8,-1392 186,-1392 186,-1132.6 8,-1132.6"/>
<text text-anchor="middle" x="97" y="-1379" font-family="Times,serif" font-size="10.00" fill="#000000">Legend</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_tikv</title>
<polygon fill="none" stroke="#d3d3d3" points="525,-1059.6 525,-1298.2 609,-1298.2 609,-1059.6 525,-1059.6"/>
<text text-anchor="middle" x="567" y="-1281.6" font-family="Times,serif" font-size="14.00" fill="#000000">TiKV</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ticdc</title>
<polygon fill="none" stroke="#d3d3d3" points="194,-63 194,-1432.4 517,-1432.4 517,-63 194,-63"/>
<text text-anchor="middle" x="355.5" y="-1415.8" font-family="Times,serif" font-size="14.00" fill="#000000">TiCDC</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_kvclient</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="425,-1320 425,-1396.8 509,-1396.8 509,-1320 425,-1320"/>
<text text-anchor="middle" x="467" y="-1380.2" font-family="Times,serif" font-size="14.00" fill="#000000">KV client</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_processor</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="202,-831.4 202,-908.2 438,-908.2 438,-831.4 202,-831.4"/>
<text text-anchor="middle" x="320" y="-891.6" font-family="Times,serif" font-size="14.00" fill="#000000">Processor</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_puller</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="202,-981 202,-1399.6 382,-1399.6 382,-981 202,-981"/>
<text text-anchor="middle" x="292" y="-1383" font-family="Times,serif" font-size="14.00" fill="#000000">Puller</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_sorter</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="365,-641 365,-758.6 463,-758.6 463,-641 365,-641"/>
<text text-anchor="middle" x="414" y="-742" font-family="Times,serif" font-size="14.00" fill="#000000">Sorter</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_entry_sorter</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="373,-649 373,-725.8 455,-725.8 455,-649 373,-649"/>
<text text-anchor="middle" x="414" y="-709.2" font-family="Times,serif" font-size="14.00" fill="#000000">Entry sorter</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_mounter</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="278,-649 278,-725.8 348,-725.8 348,-649 278,-649"/>
<text text-anchor="middle" x="313" y="-709.2" font-family="Times,serif" font-size="14.00" fill="#000000">Mounter</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_sink</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="228,-71 228,-570.2 358,-570.2 358,-71 228,-71"/>
<text text-anchor="middle" x="293" y="-553.6" font-family="Times,serif" font-size="14.00" fill="#000000">Sink Manager</text>
</g>
<!-- flow -->
<g id="node1" class="node">
<title>flow</title>
<polygon fill="#ffffff" stroke="#ffffff" points="177.5464,-1364 106.4536,-1364 106.4536,-1328 177.5464,-1328 177.5464,-1364"/>
<text text-anchor="middle" x="142" y="-1343" font-family="Times,serif" font-size="10.00" fill="#000000">Go routine #1</text>
</g>
<!-- flow_ -->
<g id="node2" class="node">
<title>flow_</title>
<polygon fill="#ffffff" stroke="#ffffff" points="177.5464,-1176.6 106.4536,-1176.6 106.4536,-1140.6 177.5464,-1140.6 177.5464,-1176.6"/>
<text text-anchor="middle" x="142" y="-1155.6" font-family="Times,serif" font-size="10.00" fill="#000000">Go routine #2</text>
</g>
<!-- flow&#45;&gt;flow_ -->
<g id="edge1" class="edge">
<title>flow&#45;&gt;flow_</title>
<path fill="none" stroke="#000000" d="M142,-1327.6901C142,-1294.8582 142,-1225.7745 142,-1186.8363"/>
<polygon fill="#000000" stroke="#000000" points="145.5001,-1186.7083 142,-1176.7083 138.5001,-1186.7084 145.5001,-1186.7083"/>
<text text-anchor="middle" x="124.228" y="-1191.7083" font-family="Times,serif" font-size="10.00" fill="#000000">Flow</text>
<text text-anchor="middle" x="124.228" y="-1179.7083" font-family="Times,serif" font-size="10.00" fill="#000000">direction</text>
<text text-anchor="middle" x="125.337" y="-1318.6901" font-family="Times,serif" font-size="10.00" fill="#000000">Channel</text>
<text text-anchor="middle" x="125.337" y="-1306.6901" font-family="Times,serif" font-size="10.00" fill="#000000">/Buffer</text>
</g>
<!-- wait -->
<g id="node3" class="node">
<title>wait</title>
<polygon fill="#ffffff" stroke="#ffffff" points="87.5464,-1364 16.4536,-1364 16.4536,-1328 87.5464,-1328 87.5464,-1364"/>
<text text-anchor="middle" x="52" y="-1343" font-family="Times,serif" font-size="10.00" fill="#000000">Go routine #1</text>
</g>
<!-- wait_ -->
<g id="node4" class="node">
<title>wait_</title>
<polygon fill="#ffffff" stroke="#ffffff" points="87.5464,-1176.6 16.4536,-1176.6 16.4536,-1140.6 87.5464,-1140.6 87.5464,-1176.6"/>
<text text-anchor="middle" x="52" y="-1155.6" font-family="Times,serif" font-size="10.00" fill="#000000">Go routine #2</text>
</g>
<!-- wait&#45;&gt;wait_ -->
<g id="edge2" class="edge">
<title>wait&#45;&gt;wait_</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M52,-1327.6901C52,-1294.8582 52,-1225.7745 52,-1186.8363"/>
<polygon fill="#000000" stroke="#000000" points="55.5001,-1186.7083 52,-1176.7083 48.5001,-1186.7084 55.5001,-1186.7083"/>
<text text-anchor="middle" x="28.9475" y="-1318.6901" font-family="Times,serif" font-size="10.00" fill="#000000">#1 wiats #2</text>
</g>
<!-- Raftstore -->
<g id="node5" class="node">
<title>Raftstore</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="600.8135,-1265.4 533.1865,-1265.4 533.1865,-1229.4 600.8135,-1229.4 600.8135,-1265.4"/>
<text text-anchor="middle" x="567" y="-1243.2" font-family="Times,serif" font-size="14.00" fill="#000000">Raftstore</text>
</g>
<!-- CDC -->
<g id="node6" class="node">
<title>CDC</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="587,-1103.6 533,-1103.6 533,-1067.6 587,-1067.6 587,-1103.6"/>
<text text-anchor="middle" x="560" y="-1081.4" font-family="Times,serif" font-size="14.00" fill="#000000">CDC</text>
</g>
<!-- Raftstore&#45;&gt;CDC -->
<g id="edge3" class="edge">
<title>Raftstore&#45;&gt;CDC</title>
<path fill="none" stroke="#000000" d="M566.2106,-1229.154C565.0028,-1201.2351 562.6851,-1147.6651 561.248,-1114.4464"/>
<polygon fill="#000000" stroke="#000000" points="564.7263,-1113.8669 560.7972,-1104.0276 557.7328,-1114.1695 564.7263,-1113.8669"/>
<text text-anchor="middle" x="584.7672" y="-1154.4" font-family="Times,serif" font-size="14.00" fill="#000000">channel</text>
</g>
<!-- kv_client -->
<g id="node7" class="node">
<title>kv_client</title>
<polygon fill="#ffffff" stroke="#ffffff" points="501.1011,-1364 432.8989,-1364 432.8989,-1328 501.1011,-1328 501.1011,-1364"/>
<text text-anchor="middle" x="467" y="-1341.8" font-family="Times,serif" font-size="14.00" fill="#000000">kv_client</text>
</g>
<!-- CDC&#45;&gt;kv_client -->
<g id="edge4" class="edge">
<title>CDC&#45;&gt;kv_client</title>
<path fill="none" stroke="#000000" d="M553.4676,-1103.8906C537.4335,-1148.7861 496.0542,-1264.6483 476.9442,-1318.1563"/>
<polygon fill="#000000" stroke="#000000" points="473.6069,-1317.0946 473.5396,-1327.6892 480.1991,-1319.449 473.6069,-1317.0946"/>
<text text-anchor="middle" x="537.7279" y="-1198.8" font-family="Times,serif" font-size="14.00" fill="#000000">gRPC</text>
</g>
<!-- puller_run_step1 -->
<g id="node8" class="node">
<title>puller_run_step1</title>
<polygon fill="#ffffff" stroke="#ffffff" points="361.6716,-1366.6019 210.3284,-1366.6019 210.3284,-1325.3981 361.6716,-1325.3981 361.6716,-1366.6019"/>
<text text-anchor="middle" x="286" y="-1350.2" font-family="Times,serif" font-size="14.00" fill="#000000">Run #1</text>
<text text-anchor="middle" x="286" y="-1333.4" font-family="Times,serif" font-size="14.00" fill="#000000">(Add to memory buffer)</text>
</g>
<!-- kv_client&#45;&gt;puller_run_step1 -->
<g id="edge5" class="edge">
<title>kv_client&#45;&gt;puller_run_step1</title>
<path fill="none" stroke="#000000" d="M432.4825,-1346C415.1645,-1346 393.3422,-1346 371.8685,-1346"/>
<polygon fill="#000000" stroke="#000000" points="371.7116,-1342.5001 361.7116,-1346 371.7115,-1349.5001 371.7116,-1342.5001"/>
<text text-anchor="middle" x="397.3926" y="-1353.2" font-family="Times,serif" font-size="14.00" fill="#000000">eventCh</text>
</g>
<!-- puller_run_step2 -->
<g id="node12" class="node">
<title>puller_run_step2</title>
<polygon fill="#ffffff" stroke="#ffffff" points="374.4152,-1030.4019 209.5848,-1030.4019 209.5848,-989.1981 374.4152,-989.1981 374.4152,-1030.4019"/>
<text text-anchor="middle" x="292" y="-1014" font-family="Times,serif" font-size="14.00" fill="#000000">Run #2</text>
<text text-anchor="middle" x="292" y="-997.2" font-family="Times,serif" font-size="14.00" fill="#000000">(Output to output channel)</text>
</g>
<!-- puller_run_step1&#45;&gt;puller_run_step2 -->
<g id="edge7" class="edge">
<title>puller_run_step1&#45;&gt;puller_run_step2</title>
<path fill="none" stroke="#000000" d="M286.999,-1325.2309C287.8717,-1305.2809 289,-1274.2878 289,-1247.4 289,-1247.4 289,-1247.4 289,-1085.6 289,-1070.9473 289.5666,-1054.7138 290.2074,-1041.0411"/>
<polygon fill="#000000" stroke="#000000" points="293.7205,-1040.8674 290.7277,-1030.704 286.7293,-1040.5154 293.7205,-1040.8674"/>
<text text-anchor="middle" x="311.7395" y="-1154.4" font-family="Times,serif" font-size="14.00" fill="#000000">P.buffer</text>
</g>
<!-- processor_sorter_consume -->
<g id="node9" class="node">
<title>processor_sorter_consume</title>
<polygon fill="#ffffff" stroke="#ffffff" points="310.2577,-875.4 209.7423,-875.4 209.7423,-839.4 310.2577,-839.4 310.2577,-875.4"/>
<text text-anchor="middle" x="260" y="-853.2" font-family="Times,serif" font-size="14.00" fill="#000000">sorterConsume</text>
</g>
<!-- table_sink_run -->
<g id="node11" class="node">
<title>table_sink_run</title>
<polygon fill="#ffffff" stroke="#ffffff" points="335.9734,-537.2019 236.0266,-537.2019 236.0266,-495.9981 335.9734,-495.9981 335.9734,-537.2019"/>
<text text-anchor="middle" x="286" y="-520.8" font-family="Times,serif" font-size="14.00" fill="#000000">Table Sink (N)</text>
<text text-anchor="middle" x="286" y="-504" font-family="Times,serif" font-size="14.00" fill="#000000">FlushEvents</text>
</g>
<!-- processor_sorter_consume&#45;&gt;table_sink_run -->
<g id="edge6" class="edge">
<title>processor_sorter_consume&#45;&gt;table_sink_run</title>
<path fill="none" stroke="#000000" d="M241.4138,-839.1919C231.3689,-827.381 221,-811.058 221,-794 221,-794 221,-794 221,-605.6 221,-581.873 236.2522,-560.2492 251.98,-544.2586"/>
<polygon fill="#000000" stroke="#000000" points="254.41,-546.7776 259.1867,-537.3206 249.5552,-541.7347 254.41,-546.7776"/>
<text text-anchor="middle" x="244.5319" y="-670.8" font-family="Times,serif" font-size="14.00" fill="#000000">P.output</text>
</g>
<!-- mounter_run -->
<g id="node14" class="node">
<title>mounter_run</title>
<polygon fill="#ffffff" stroke="#ffffff" points="340,-693 286,-693 286,-657 340,-657 340,-693"/>
<text text-anchor="middle" x="313" y="-670.8" font-family="Times,serif" font-size="14.00" fill="#000000">Run</text>
</g>
<!-- processor_sorter_consume&#45;&gt;mounter_run -->
<g id="edge11" class="edge">
<title>processor_sorter_consume&#45;&gt;mounter_run</title>
<path fill="none" stroke="#000000" d="M262.253,-839.206C264.2833,-824.574 267.6919,-803.5664 272.5042,-785.6 280.2576,-756.6529 292.4055,-724.6018 301.3753,-702.4876"/>
<polygon fill="#000000" stroke="#000000" points="304.6804,-703.6528 305.2457,-693.0731 298.2062,-700.9911 304.6804,-703.6528"/>
<text text-anchor="middle" x="295.7479" y="-789.8" font-family="Times,serif" font-size="14.00" fill="#000000">M.Input</text>
</g>
<!-- processor_puller_consume -->
<g id="node10" class="node">
<title>processor_puller_consume</title>
<polygon fill="#ffffff" stroke="#ffffff" points="429.5438,-875.4 328.4562,-875.4 328.4562,-839.4 429.5438,-839.4 429.5438,-875.4"/>
<text text-anchor="middle" x="379" y="-853.2" font-family="Times,serif" font-size="14.00" fill="#000000">pullerConsume</text>
</g>
<!-- sorter_run -->
<g id="node13" class="node">
<title>sorter_run</title>
<polygon fill="#ffffff" stroke="#ffffff" points="441,-693 387,-693 387,-657 441,-657 441,-693"/>
<text text-anchor="middle" x="414" y="-670.8" font-family="Times,serif" font-size="14.00" fill="#000000">Run</text>
</g>
<!-- processor_puller_consume&#45;&gt;sorter_run -->
<g id="edge9" class="edge">
<title>processor_puller_consume&#45;&gt;sorter_run</title>
<path fill="none" stroke="#000000" d="M382.718,-839.0768C384.874,-828.3857 387.624,-814.6357 390,-802.4 396.6367,-768.2227 404.0158,-728.8328 408.8169,-703.0084"/>
<polygon fill="#000000" stroke="#000000" points="412.2618,-703.6268 410.6458,-693.1559 405.3794,-702.3491 412.2618,-703.6268"/>
<text text-anchor="middle" x="426.6315" y="-789.8" font-family="Times,serif" font-size="14.00" fill="#000000">E.AddEntry</text>
</g>
<!-- buffer_sink_run -->
<g id="node15" class="node">
<title>buffer_sink_run</title>
<polygon fill="#ffffff" stroke="#ffffff" points="337.5285,-328.8019 236.4715,-328.8019 236.4715,-287.5981 337.5285,-287.5981 337.5285,-328.8019"/>
<text text-anchor="middle" x="287" y="-312.4" font-family="Times,serif" font-size="14.00" fill="#000000">Buffer Sink (1)</text>
<text text-anchor="middle" x="287" y="-295.6" font-family="Times,serif" font-size="14.00" fill="#000000">FlushEvents</text>
</g>
<!-- table_sink_run&#45;&gt;buffer_sink_run -->
<g id="edge13" class="edge">
<title>table_sink_run&#45;&gt;buffer_sink_run</title>
<path fill="none" stroke="#000000" d="M279.0433,-495.8009C275.9525,-484.7852 273,-470.9515 273,-458.3 273,-458.3 273,-458.3 273,-366.5 273,-357.3724 274.6426,-347.6576 276.8024,-338.8288"/>
<polygon fill="#000000" stroke="#000000" points="280.2395,-339.5293 279.5082,-328.9598 273.4886,-337.6784 280.2395,-339.5293"/>
<text text-anchor="middle" x="311.3047" y="-408.2" font-family="Times,serif" font-size="14.00" fill="#000000">S.EmitEvents</text>
</g>
<!-- puller_run_step2&#45;&gt;processor_puller_consume -->
<g id="edge8" class="edge">
<title>puller_run_step2&#45;&gt;processor_puller_consume</title>
<path fill="none" stroke="#000000" d="M303.9146,-988.929C319.3679,-961.8591 346.3595,-914.5771 363.4228,-884.6869"/>
<polygon fill="#000000" stroke="#000000" points="366.6686,-886.0608 368.5868,-875.6411 360.5894,-882.5904 366.6686,-886.0608"/>
<text text-anchor="middle" x="360.0852" y="-939.4" font-family="Times,serif" font-size="14.00" fill="#000000">P.Output</text>
</g>
<!-- sorter_run&#45;&gt;processor_sorter_consume -->
<g id="edge10" class="edge">
<title>sorter_run&#45;&gt;processor_sorter_consume</title>
<path fill="none" stroke="#000000" d="M401.9115,-693.0988C384.5791,-718.5433 351.0946,-765.8642 318,-802.4 308.7377,-812.6254 297.9217,-823.204 288.1558,-832.3191"/>
<polygon fill="#000000" stroke="#000000" points="285.5821,-829.9312 280.5986,-839.2808 290.3249,-835.0797 285.5821,-829.9312"/>
<text text-anchor="middle" x="356.1399" y="-789.8" font-family="Times,serif" font-size="14.00" fill="#000000">S.Ouput</text>
</g>
<!-- mounter_run&#45;&gt;table_sink_run -->
<g id="edge12" class="edge">
<title>mounter_run&#45;&gt;table_sink_run</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M308.2195,-646.9546C302.8649,-615.5406 294.3113,-565.3598 289.5293,-537.3055"/>
<polygon fill="#000000" stroke="#000000" points="304.7721,-647.5598 309.9028,-656.8295 311.6726,-646.3835 304.7721,-647.5598"/>
<text text-anchor="middle" x="345.959" y="-601.4" font-family="Times,serif" font-size="14.00" fill="#000000">wait unmarshal</text>
</g>
<!-- backend_sink_run -->
<g id="node16" class="node">
<title>backend_sink_run</title>
<polygon fill="#ffffff" stroke="#ffffff" points="349.9748,-120.4019 236.0252,-120.4019 236.0252,-79.1981 349.9748,-79.1981 349.9748,-120.4019"/>
<text text-anchor="middle" x="293" y="-104" font-family="Times,serif" font-size="14.00" fill="#000000">Backend Sink (1)</text>
<text text-anchor="middle" x="293" y="-87.2" font-family="Times,serif" font-size="14.00" fill="#000000">FlushEvents</text>
</g>
<!-- buffer_sink_run&#45;&gt;backend_sink_run -->
<g id="edge14" class="edge">
<title>buffer_sink_run&#45;&gt;backend_sink_run</title>
<path fill="none" stroke="#000000" d="M279.5082,-287.4402C276.1796,-276.4352 273,-262.5993 273,-249.9 273,-249.9 273,-249.9 273,-158.1 273,-148.6927 275.3587,-138.8711 278.456,-130.0292"/>
<polygon fill="#000000" stroke="#000000" points="281.786,-131.1244 282.1805,-120.5369 275.2697,-128.5675 281.786,-131.1244"/>
<text text-anchor="middle" x="311.3047" y="-199.8" font-family="Times,serif" font-size="14.00" fill="#000000">S.EmitEvents</text>
</g>
<!-- data_out -->
<g id="node18" class="node">
<title>data_out</title>
<ellipse fill="none" stroke="#000000" cx="293" cy="-18" rx="44.0396" ry="18"/>
<text text-anchor="middle" x="293" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Data out</text>
</g>
<!-- backend_sink_run&#45;&gt;data_out -->
<g id="edge16" class="edge">
<title>backend_sink_run&#45;&gt;data_out</title>
<path fill="none" stroke="#000000" d="M293,-79.1584C293,-69.2193 293,-57.1448 293,-46.3586"/>
<polygon fill="#000000" stroke="#000000" points="296.5001,-46.1287 293,-36.1287 289.5001,-46.1287 296.5001,-46.1287"/>
</g>
<!-- data_in -->
<g id="node17" class="node">
<title>data_in</title>
<ellipse fill="none" stroke="#000000" cx="567" cy="-1346" rx="39.3836" ry="18"/>
<text text-anchor="middle" x="567" y="-1341.8" font-family="Times,serif" font-size="14.00" fill="#000000">Data in</text>
</g>
<!-- data_in&#45;&gt;Raftstore -->
<g id="edge15" class="edge">
<title>data_in&#45;&gt;Raftstore</title>
<path fill="none" stroke="#000000" d="M567,-1327.9152C567,-1313.4126 567,-1292.7876 567,-1276.0435"/>
<polygon fill="#000000" stroke="#000000" points="570.5001,-1275.704 567,-1265.704 563.5001,-1275.7041 570.5001,-1275.704"/>
</g>
</g>
</svg>
