# Configuration for redo apply schema routing test
# Compares upstream source_db.t1 with downstream target_db.t1
# (verifying schema routing is applied)

check-thread-count = 4

export-fix-sql = true

check-struct-only = false

[task]
    output-dir = "/tmp/tidb_cdc_test/redo_apply_error_recovery/sync_diff/output"

    source-instances = ["upstream"]

    target-instance = "downstream"

    # Compare source_db.t1 (upstream) with target_db.t1 (downstream)
    # This verifies the schema routing worked correctly
    [[task.table-configs]]
    schema = "source_db"
    table = "t1"
    target-schema = "target_db"
    target-table = "t1"

[data-sources]
[data-sources.upstream]
    host = "127.0.0.1"
    port = 4000
    user = "root"
    password = ""

[data-sources.downstream]
    host = "127.0.0.1"
    port = 3306
    user = "root"
    password = ""
